#!/usr/bin/env ruby

$LOAD_PATH << File.expand_path(File.dirname(__FILE__) + '/../lib')

require 'epub_validator'

args = ARGV.dup
ARGV.clear
command = args.shift.strip rescue 'help'

puts "\nChecking...."
validation = EpubValidator.check(command)

puts
puts "Detected as EPUB version #{validation.epub_version}"
puts

if validation.valid?
  puts "...Passed.\n"
  puts
  puts validation.messages
else
  puts "FAILED!\n\n"
  puts
  puts validation.messages
end

